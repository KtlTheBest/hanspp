structdef list = ( first : double, next : pointer ( list ) );

function listsum( cur : pointer( list ) ) : double
begin
  sum : double;
  pntr : pointer( sum );
  if cur -> next == null then
    sum = 0.0
  else
  begin
    sum = listsum( cur -> next )
  end;
  sum = 
  sum + 
  cur -> first;
#
  return sum
end

function listlength( cur : pointer( list ) ) : integer
begin
  len : integer;

  if cur == null then
    return 0;

  return len + listlength(cur -> next)
end

function main ( ) : void
begin
   l1 : list;
   l2 : list;
   l3 : list;
   l4 : list;
   l1. first = 1;  l1. next = &l2;
   l2. first = 3;  l2. next = &l3;
   l3. first = 5;  l3. next = &l4;
   l4. first = 6;  l4. next = null;

   print "the sum is ";
   print listsum( &l1 ); newline;
   print "the length is ";
   print listlength( &l1 ); newline;
  return
end
